import{r as i,m as u,j as e,L as y,$ as f}from"./app-D5YAU0f_.js";import{A as w}from"./AuthenticatedLayout-DwtQGFtW.js";import N from"./CreateExpense-_uR703I-.js";import{D as d,M as E,S as k}from"./SecondaryButton-CVEbACCU.js";import"./CreditCardIcon-Du3QADQ6.js";import"./transition-CzLtBdxU.js";import"./InputError-BKTpo-CX.js";import"./PrimaryButton-mXPYs-X8.js";import"./TextInput-BFXA_T9T.js";const z=({expenses:l,budgets:x})=>{const[o,a]=i.useState(!1),[c,r]=i.useState(null),{data:b,setData:v,delete:m,processing:h,reset:n,errors:D,clearErrors:p}=u({}),g=t=>{r(t),a(!0)},j=t=>{t.preventDefault(),m(route("expenses.destroy",c.id),{preserveScroll:!0,onSuccess:()=>s(),onFinish:()=>n()})},s=()=>{a(!1),r(null),p(),n()};return e.jsxs(w,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Expenses"}),children:[e.jsx(y,{title:"Expenses"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsx(N,{className:"max-w-xl",budgets:x}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-zebra",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Expense Amount"}),e.jsx("th",{children:"Budget"}),e.jsx("th",{children:"Owner"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.amount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.budget.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.budget.owner.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.description}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:[e.jsx(f,{href:`/expenses/edit/${t.id}`,className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-600",children:"Edit"}),e.jsx("span",{className:"mx-2"}),e.jsx(d,{onClick:()=>g(t),children:"Delete Expense"})]})]},t.id))})]})})]})})})}),e.jsx(E,{show:o,onClose:s,children:e.jsxs("form",{onSubmit:j,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Are you sure you want to delete this expense?"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Once this expense is deleted, you cannot restore it. You will need to create a new expense again."}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(k,{onClick:s,children:"Cancel"}),e.jsx(d,{className:"ms-3",disabled:h,children:"Delete Expense"})]})]})})]})};export{z as default};
