import{r as x,m as k,j as e,L as B,$ as v}from"./app-CGN6qoS5.js";import{A as D}from"./AuthenticatedLayout-oPizW_q7.js";import b from"./CreateBudget-BsYfe7_0.js";import{D as c,M as C,S}from"./SecondaryButton-B9fHjU3W.js";import"./CreditCardIcon-n7JElUOp.js";import"./transition-BA_wu0GM.js";import"./InputError-CDY3c8VR.js";import"./PrimaryButton--7RIrONZ.js";import"./TextInput-iEbzgbqm.js";const I=({budgets:m,categories:n,owners:d})=>{const[h,i]=x.useState(!1),[g,o]=x.useState(null),{data:A,setData:E,delete:p,processing:u,reset:l,errors:L,clearErrors:y}=k({}),j=t=>{o(t),i(!0)},w=t=>{t.preventDefault(),p(route("budgets.destroy",g.id),{preserveScroll:!0,onSuccess:()=>a(),onFinish:()=>l()})},f=t=>{const s=n.find(r=>r.id===t);return s?s.name:"Unknown"},N=t=>{const s=d.find(r=>r.id===t);return s?s.name:"Unknown"},a=()=>{i(!1),o(null),y(),l()};return e.jsxs(D,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Budget"}),children:[e.jsx(B,{title:"Budget"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsx(b,{className:"max-w-xl",categories:n,owners:d}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-zebra",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Amount Limit"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Budget Owner"}),e.jsx("th",{children:"Extra Spent"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:m.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.amount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:f(t.category_id)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:N(t.owner_id)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:t.extra_spent?"Yes":"No"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:[e.jsx(v,{href:`/budgets/edit/${t.id}`,className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-600",children:"Edit"}),e.jsx("span",{className:"mx-2"}),e.jsx(c,{onClick:()=>j(t),children:"Delete Budget"})]})]},t.id))})]})})]})})})}),e.jsx(C,{show:h,onClose:a,children:e.jsxs("form",{onSubmit:w,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Are you sure you want to delete this budget?"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Once this budget is deleted, you cannot restore it. You will need to create a new budget again."}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(S,{onClick:a,children:"Cancel"}),e.jsx(c,{className:"ms-3",disabled:u,children:"Delete Budget"})]})]})})]})};export{I as default};
